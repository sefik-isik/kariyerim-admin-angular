<div class="card">
  <div class="alert alert-dark" role="alert">
    {{ componentTitle }}
  </div>
  <div class="card-body">
    <div class="form-group">
      <div class="input-group mb-3">
        <span class="input-group-text"><i class="bi bi-filter"></i></span>
        <input
          type="text"
          [(ngModel)]="filter1"
          class="form-control"
          list="datalist1"
          id="input1"
          placeholder="Filter TaxOffices By City..."
          (change)="getTaxOffices()"
        />
        <datalist id="datalist1">
          <option
            *ngFor="let city of cities"
            value="{{ city.cityName }}"
          ></option>
        </datalist>
        <span class="input-group-text">
          <i
            (click)="clearInput1()"
            class="bi bi-x-circle"
            style="cursor: pointer"
          ></i>
        </span>
      </div>

      <div class="input-group mb-3">
        <span class="input-group-text"><i class="bi bi-filter"></i></span>
        <input
          type="text"
          [(ngModel)]="filter2"
          class="form-control"
          list="datalist2"
          id="input2"
          placeholder="Filter By Tax Office Name..."
        />
        <datalist id="datalist2">
          <option
            *ngFor="let taxOfficeDTO of taxOfficeDTOs"
            value="{{ taxOfficeDTO.taxOfficeName }}"
          ></option>
        </datalist>
        <span class="input-group-text">
          <i
            (click)="clearInput2()"
            class="bi bi-x-circle"
            style="cursor: pointer"
          ></i>
        </span>
      </div>

      <div class="d-grid gap-2">
        <button
          type="button"
          class="btn btn-outline-secondary"
          routerLink="/dashboard/taxoffices"
          routerLinkActive="router-link-active"
        >
          Back
        </button>
        <div class="mt-3 table-responsive-xxl">
          <table
            *ngIf="taxOfficeDTOs.length > 0"
            class="table table-striped table-hover table-sm"
          >
            <thead>
              <tr>
                <th>Id</th>
                <th>City Id</th>
                <th>City Name</th>
                <th>Region Name</th>
                <th>Tax Office Code</th>
                <th>Tax Office Name</th>
                <th>Created Date</th>
                <th>Updated Date</th>
                <th></th>
                <th>
                  <i
                    (click)="unDeleteAll()"
                    class="bi bi-trash"
                    style="color: red"
                  ></i>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr
                *ngFor="
                  let taxOfficeDTO of taxOfficeDTOs
                    | filterTaxOfficeByCity : filter1
                    | filterTaxOffice : filter2
                "
              >
                <td>{{ taxOfficeDTO.id }}</td>
                <td>{{ taxOfficeDTO.cityId }}</td>
                <td>{{ taxOfficeDTO.cityName }}</td>
                <td>{{ taxOfficeDTO.regionName }}</td>
                <td>{{ taxOfficeDTO.taxOfficeCode }}</td>
                <td>{{ taxOfficeDTO.taxOfficeName }}</td>
                <td>
                  {{ taxOfficeDTO.createdDate | date : "dd/MM/yyyy hh:mm:ss" }}
                </td>
                <td>
                  {{ taxOfficeDTO.updatedDate | date : "dd/MM/yyyy hh:mm:ss" }}
                </td>
                <td>
                  <i
                    [routerLink]="[
                      '/dashboard/taxoffices/taxofficeupdate/' + taxOfficeDTO.id
                    ]"
                    routerLinkActive="active"
                    ariaCurrentWhenActive="page"
                    class="bi bi-pencil-square"
                    style="color: midnightblue"
                  ></i>
                </td>
                <td>
                  <i
                    (click)="unDelete(taxOfficeDTO)"
                    class="bi bi-trash"
                    style="color: red"
                  ></i>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
